---
layout: post
title: "lobid-gnd – Eine Schnittstelle zur Gemeinsamen Normdatei für Mensch und Maschine"
date: 2018-06-04
author: Adrian Pohl, Fabian Steeg
---

Wie im [letzten Beitrag](http://blog.lobid.org/2018/03/20/gnd-class-hierarchy.html) geschrieben, entwickeln wir seit einiger Zeit die neue Version des lobid-Normdatendienstes *lobid-gnd*, erreichbar über <a href="https://lobid.org/gnd">https://lobid.org/gnd</a>.<sup>1</sup> Noch befindet sich der Dienst im beta-Status, allerdings sind wir kurz davor, mit lobid-gnd in Produktion zu gehen. Das nehmen wir zum Anlass, um hier einen Einblick in die Funktionsweise von lobid-gnd zu geben. Wir freuen uns über jegliche Rückmeldungen, seien es Verbesserungsvorschläge, Bug-Meldungen, Lobhudeleien oder Verrisse.

# Die Benutzeroberfläche

![Screenshot](/images/20180601_lobid-gnd-autosuggest.png "lobid-gnd Suchvorschläge")

Als Einstieg in die GND dient ein einfacher Suchschlitz. Die Suche unterstützt Boolesche Operatoren, Phrasensuche und Trunkierung. Für noch speziellere Abfragen wird die <a href="https://lucene.apache.org/core/2_9_4/queryparsersyntax.html">Lucene Query Parser Syntax</a> unterstützt (siehe für Beispiele die API-Dokumentation).<sup>2</sup> Während der Eingabe werden Vorschläge gemacht, um direkt den gewünschten Eintrag auswählen zu können. Zur leichteren Identifikation werden nehmen dem Namen auch der Typ einer GND-Entität angezeigt sowie weitere für eine Identifikation relevante Informationen wie etwa Geburts- und Sterbejahr bei Personen.

Wenn kein vorgeschlagener Eintrag ausgewählt und stattdessen die Suche abgeschickt wird, öffnet sich die Suchergebnisliste.

[![Screenshot](/images/20180605_lobid-gnd-result-list.png "lobid-gnd-Ergebnisliste")](http://lobid.org/gnd/search?q=hannah+arendt)

Ein Piktogramm am Anfang jeder Zeile zeigt den allgemeinen Typ der Ressource an. Zur leichten Identifikation einer GND-Entität werden in der Zeile ebenfalls ihr spezieller Entitätstyp und weitere Informationen je nach Art des Eintrags angezeigt. Auf der rechten Seite werden Facetten angezeigt anhand derer die Suchergebnisse gefiltert werden können. Derzeit wird eine Facettierung nach Entitätstyp, GND-Sachgruppe, Ländercode und "Beruf oder Beschäftigung" (nur Personen) angeboten. In Klammern wird hinter jeder Facette wie üblich angezeigt, wieviele Ressourcen mit Klick auf die Facette herausgefiltert werden.  

Mit Klick auf den Eintrag einer Suchergebnisliste wie auch der Vorschlagsliste gelangt man zur Einzeltrefferansicht.

[![Screenshot](/images/20180605_lobid-gnd-einzeltreffer.png "lobid-gnd-Einzeltreffer")](http://lobid.org/gnd/11850391X)


Im Titel des Eintrags steht die präferierte Namensform plus Informationen zum Entitätstyp. Als Untertitel werden weitere identifizierende Merkmale wie auch in den Suchvorschlägen und der Ergebnisliste gezeigt. Darunter werden standardmäßig alle Beschreibungsfelder angezeigt sowie daneben – falls über EntityFacts vorhanden – eine zum Eintrag passende Abbildung. Aus EntityFacts werden auch die Links zu anderen Quellen wie Wikidata oder die Deutsche Digitale Bibliothek (unter "Siehe auch" angezeigt) bezogen.

In der tabellarischen Beschreibung finden sich sowohl textuelle Informationen als auch Links. Die Verlinkungen führen zur jeweilig verknüpften GND-Entität oder zum Eintrag im jeweiligen externen kontrollierten Vokabular (z. B. [GND Geographic Area Codes](https://d-nb.info/standards/vocab/gnd/geographic-area-code.html) oder [GND-Sachgruppen](https://d-nb.info/standards/vocab/gnd/gnd-sc.html)) Wird die Lupe hinter einem Link geklickt, werden alle GND-Entitäten mit derselben Eigenschaft angezeigt, im Beispiel aus dem Foto z. B. [alle Einträge mit Beruf oder Beschäftigung "Philosophin"](http://lobid.org/gnd/search?q=professionOrOccupation.id%3A%22http%3A%2F%2Fd-nb.info%2Fgnd%2F4174285-0%22&format=html). 

Im Tab "Beziehungen" gibt es eine anschauliche Repräsentation der GND-internen Verlinkungen in Form eines Graphen. Hier lassen sich die Knoten klicken, um zum Beziehungsgraphen eines verlinkten Eintrags zu kommen oder die Kanten, um eine Suche nach allen anderen Ressourcen mit derselben Relation anzustoßen wie etwas [alle Personen mit einer freundschaftlichen Beziehung zu Hilde Fränkel](http://lobid.org/gnd/search?q=acquaintanceshipOrFriendship.id%3A%22http%3A%2F%2Fd-nb.info%2Fgnd%2F1071467174%22&format=html).

Das Piktogramm <img src="http://lobid.org/gnd/assets/images/json-ld.png" alt="JSON-LD-Piktogramm" style="width:32px !important;height:32px !important;"> verweist auf die dem Eintrag zugrundeliegenden strukturierten Daten im Format JSON-LD. Im folgenden wird gezeigt, woher diese Daten stammen und wie sie erzeugt werden.

# Daten und Software

lobid-gnd ist – neben seiner Funktion als Endnutzerschnittstelle – auch eine Maschinenschnittstelle zur GND. Die Endnutzerschnittstelle basiert auf HTML für die Ansicht im Browser, aber ebenso liefern alle HTTP-GET-Anfragen auf Wunsch JSON(-LD) für die maschinelle Verarbeitung. Bevor wir aber näher auf die Web-API (Application Programming Interface, deutsch: Anwendungsschnittstelle) eingehen, möchten wir zunächst beschreiben wie und in welcher Form die GND-Daten indexiert werden.

- GND-RDF Updates werden täglich via OAI-PMH von der DNB geladen
- Bei der Transformation nach JSON-LD werden die Daten wie folgt verbessert:
	- kompaktes, hierarchiches JSON mittels [Frame]() und [JSON-LD-Kontext]()
	- Ergänzungen der Oberklassen
	- Ersetzen der spezifischen name-Properties mit `preferredName` und `variantName`
	- ?

# Web-API

Nun zur Web-API.

- Lucene Query language
- Elasticsearch filter
- Aggregationen
- Auto-Suggest
- ...



----

<sup>1</sup> In der Version 1.x wurden GND-Entitäten noch über den `/subject`-Endpoint angeboten und es gab einen Endpoint nur für die GND-Personen (`/person`). Jetzt gibt es Zugriff auf alle GND-Entitäten über [https://lobid.org/gnd](https://lobid.org/gnd).

<sup>2</sup> Siehe auch die Dokumentation der <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html#query-string-syntax">Elasticsearch Query String Syntax</a>.